# Repository Guidelines

## Project Structure & Module Organization
- `src/pages/`: Astro routes. Blog lives in `src/pages/blog/` with SSR pages (`posts.astro`, `[slug].astro`, `export const prerender = false`).
- `src/components/`: React islands (e.g., `BlogCard.jsx`, `FancyCard.jsx`).
- `src/layouts/`: Shared page chrome (`Layout.astro`).
- `src/lib/`: Small utilities and API clients (e.g., `directus.ts`).
- `src/assets/`, `src/styles/`: Images/SVGs and global styles.
- `public/`: Static files served as‑is (e.g., `favicon.svg`).
- `blogposts/`: Local markdown drafts; production posts are fetched from Directus.
- `.astro/`: Generated by Astro. Do not edit.

## Build, Test, and Development Commands
- `npm run dev`: Start the Astro dev server with SSR (default: http://localhost:4321).
- `npm run build`: Create a production build (SSR output, Vercel adapter).
- `npm run preview`: Serve the built app locally to sanity‑check prod output.
- `npm run astro -- check`: Type/usage checks for pages/components.
- Requirements: Node 18+ recommended.

## Coding Style & Naming Conventions
- Match the surrounding file’s style. Current patterns: tabs in `.astro`, 4‑space indent in React `.jsx`.
- Components: PascalCase files/exports (e.g., `BlogCard.jsx`). Routes: slug‑style file names in `src/pages/`.
- Use ES modules and TypeScript where helpful (`src/lib/directus.ts`).
- TailwindCSS is used; keep utility classes readable and grouped logically.

## Testing Guidelines
- No formal test suite. Validate with:
  - `npm run build` (must succeed without warnings/errors).
  - Manual checks in `npm run dev` for page navigation, blog list/detail, and console errors.
  - When touching blog, verify Directus responses render gracefully when empty.
- Optional: `npm run preview` to simulate production locally.

## Commit & Pull Request Guidelines
- Commits: short, imperative, and scoped (e.g., "fix SSR", "refactor blog structure", "add BlogCard").
- PRs must include:
  - What/why summary, linked issues, and testing steps.
  - Screenshots/GIFs for UI changes.
  - Confirmation that `build` passes and preview works.

## Security & Configuration Tips
- Config: `PUBLIC_DIRECTUS_URL` in `.env` (values prefixed with `PUBLIC_` are exposed to the client). Never commit secrets.
- Deployment: SSR via `@astrojs/vercel`. Keep server code side‑effect free at import time.
